<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <title>Music Keys</title>
        
        <style>
            .body{
            font-family: 'Sansita Swashed', cursive;
            }
        </style>
    </head>
    <body style="background-image: url('bg1.jpg'); background-repeat: no-repeat;background-attachment: fixed; background-size: 100% 100%;">
        
    <center>
        <h1 style="font-family: 'Sansita Swashed', cursive; color: black; font-size: 90px;"><b>MUSIC KEYS</b></h1>
        <p style="font-family: 'Sansita Swashed', cursive; color: white; font-size: 10px;">Press the mentioned key from the Keyboard.</p>
        <div >
            <div class="row">
                <div class="col-2">
                    <button type="button"  data-key="65" class="key" style="height:70px; width: 70px; margin-top:100%; background-color: #CC0000">
                        <kbd>A</kbd> <br>
                        <span class="sound"></span>
                    </button>
                </div>
                <div class="col-2">
                    <button type="button"  data-key="83" class="key" style="height:70px; width: 70px; margin-top:50%; background-color: #FF8800 ;">
                        <kbd>S</kbd> <br>
                        <span class="sound"></span>
                    </button>
                </div>
                <div class="col-2">
                    <button type="button" data-key="68" class="key" style="height:70px; width: 70px; margin-top: 120%; background-color: #50ce40;">
                        <kbd>D</kbd> <br>
                        <span class="sound"></span>
                    </button>
                </div>
                <div class="col-2">
                    <button type="button" data-key="70" class="key" style="height:70px; width: 70px; margin-top: 70%; background-color: rgba(226, 75, 240, 0.7);">
                        <kbd>F</kbd> <br>
                        <span class="sound"></span>
                    </button>
                </div>
            </div>
        </div>
        <audio data-key="65" src="hihat.wav"></audio>
        <audio data-key="83" src="openhat.wav"></audio>
        <audio data-key="68" src="snare.wav"></audio>
        <audio data-key="70" src="tom.wav"></audio>
    </center>
    <script>
        function playsound(e) {
            const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
            const key = document.querySelector(`key[data-key="${e.keyCode}"]`);
            if(!audio) return; //stop the function from running all together
            audio.currentTime = 0; //rewind to the start
            audio.play();
            key.classList.add('playing');
        }
        function removeTransition(e)
        {
            if(e.propertyName !== 'transform') //skip if it's not a transition
            return;
            this.classList.remove('playing');
        }
        const keys = document.querySelectorAll('.key');
        keys.forEach(key => key.addEventListener('transitionend',removeTransition));
        window.addEventListener('keydown',playsound);
    </script>
    </body>
</html> 